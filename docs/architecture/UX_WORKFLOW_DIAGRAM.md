# CultureWalletv2 - Complete UX Workflow Diagram

## ğŸ¯ Overview
CultureWallet is built around 3 core loops from the original vision (Wallet, Community, Collectibles) plus viral boost mechanics, all powered by Hedera Consensus Service (HCS) and Magic.link authentication.

---

## ğŸ“± Main User Journey

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CULTUREWALLET USER JOURNEY                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”‚ Landing Page â”‚
                         â”‚ "Own Culture"â”‚
                         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                       â”‚
                    â–¼                       â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  New User     â”‚      â”‚ Returning    â”‚
            â”‚  â†’ /onboard   â”‚      â”‚ â†’ /contacts  â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   MAGIC.LINK AUTH        â”‚
        â”‚   Email/Social Login     â”‚
        â”‚   Creates Hedera Account â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   ONBOARDING FLOW        â”‚
        â”‚   1. Accept Stipend      â”‚
        â”‚   2. Create Profile      â”‚
        â”‚   3. Publish to HCS      â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚     AUTHENTICATED - 5 TAB LOOP       â”‚
    â”‚  Friendsâ†’Circleâ†’Signalsâ†’Messagesâ†’Boostâ”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Loop 1: FRIENDS (Contacts Management)

```
START: /contacts
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  GROW YOUR TRUSTED NETWORK          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚QR Exchangeâ”‚  â”‚Send Signalâ”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚             â”‚
        â–¼             â–¼
   [Scan QR]    [Recognition Modal]
        â”‚             â”‚
        â–¼             â”‚
   Add Contact        â”‚
   CONTACT_ACCEPT â”€â”€â”€â”€â”˜
   event to HCS
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ALL CONTACTS LIST                  â”‚
â”‚  â€¢ Bonded contacts with trust count â”‚
â”‚  â€¢ Click â†’ Profile sheet            â”‚
â”‚  â€¢ Message button â†’ XMTP            â”‚
â”‚  â€¢ Send Signal â†’ Recognition modal  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
    [Contact Added Event]
          â”‚
          â–¼
    Reload contacts list
    Update Circle LED indicators
```

**Key Actions:**
- QR Code Exchange: Scan peer's QR â†’ Create contact bond
- Send Signal: Recognize friend's contribution
- View Profile: See trust history, NFTs, stats
- Direct Message: Open XMTP conversation

**HCS Events Emitted:**
- `CONTACT_REQUEST` (initial request)
- `CONTACT_ACCEPT` (bond confirmed)
- `TRUST_ALLOCATE` (inner circle tracking)

---

## ğŸ”¥ Loop 2: CIRCLE (Trust Allocation)

```
START: /circle
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TRUST CIRCLE VISUALIZATION         â”‚
â”‚                                     â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚         â”‚   ğŸ”¥ YOU    â”‚            â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚    ğŸŸ¢â—â—â—â—â—â—â—â—â—  (9 slots)         â”‚
â”‚    GREEN = Trust allocated         â”‚
â”‚    GRAY = Available slots          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ALLOCATE TRUST BUTTON              â”‚
â”‚  Click â†’ Select Contact Modal       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CONTACT SELECTION MODAL            â”‚
â”‚  â€¢ Show bonded contacts only        â”‚
â”‚  â€¢ Select â†’ Optimistic UI update    â”‚
â”‚  â€¢ POST /api/trust/allocate         â”‚
â”‚  â€¢ Publish TRUST_ALLOCATE to HCS    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CIRCLE MEMBERS LIST                â”‚
â”‚  â€¢ Current 9 trusted members        â”‚
â”‚  â€¢ Trust count per member           â”‚
â”‚  â€¢ Message/Signal buttons           â”‚
â”‚  â€¢ Revoke trust option              â”‚
â”‚  â€¢ Sprint challenge: "Add 3 more"   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
    LED Ring Updates
    Reflected in /contacts page
```

**Key Actions:**
- Allocate Trust: Add friend to inner circle (max 9)
- Revoke Trust: Remove from circle
- View Members: See all trusted connections
- Message Member: Quick XMTP access

**HCS Events Emitted:**
- `TRUST_ALLOCATE` (adds to circle)
- `TRUST_REVOKE` (removes from circle)

**Business Logic:**
- Max 9 trusted connections (intimate circle constraint)
- Must be bonded contact first
- Trust allocation tracked on-chain via HCS

---

## ğŸ† Loop 3: SIGNALS (Recognition Feed)

```
START: /signals
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TWO TABS: FEED | MY TOKENS         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚             â”‚
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”€â”€â”
  â–¼                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  FEED TAB        â”‚    â”‚  MY TOKENS TAB   â”‚
â”‚                  â”‚    â”‚                  â”‚
â”‚ â€¢ Real-time feed â”‚    â”‚ â€¢ Received NFTs  â”‚
â”‚ â€¢ Filter options â”‚    â”‚ â€¢ By category    â”‚
â”‚ â€¢ Search signals â”‚    â”‚ â€¢ Rarity display â”‚
â”‚ â€¢ Pull-to-refreshâ”‚    â”‚ â€¢ Trust values   â”‚
â”‚ â€¢ Click â†’ Detail â”‚    â”‚ â€¢ Swipeable grid â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SIGNAL FEED FILTERS                â”‚
â”‚  â€¢ All                              â”‚
â”‚  â€¢ From Me                          â”‚
â”‚  â€¢ To Me                            â”‚
â”‚  â€¢ Mine (my collection)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  FAB: SEND SIGNAL BUTTON            â”‚
â”‚  Click â†’ Recognition Modal          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CREATE RECOGNITION MODAL           â”‚
â”‚  1. Select Recipient (from contacts)â”‚
â”‚  2. Choose Signal Type              â”‚
â”‚     â€¢ Leadership                    â”‚
â”‚     â€¢ Execution                     â”‚
â”‚     â€¢ Knowledge                     â”‚
â”‚     â€¢ Social/Academic/Professional  â”‚
â”‚  3. Add Optional Message            â”‚
â”‚  4. Review & Sign                   â”‚
â”‚  5. Submit â†’ HCS                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
    POST /api/hcs/profile
    Event: SIGNAL_MINT or RECOGNITION_MINT
          â”‚
          â–¼
    Add to signalsStore (optimistic)
    Broadcast to all listeners
          â”‚
          â–¼
    Feed auto-updates with new signal
```

**Key Actions:**
- Send Signal: Recognize someone's contribution
- View Feed: Real-time recognition activity
- Filter Signals: Personalize view
- View Detail: See full signal metadata
- Collect Tokens: Track received recognitions

**HCS Events Emitted:**
- `SIGNAL_MINT` (recognition event)
- `RECOGNITION_MINT` (alternative format)

**Recognition Types:**
- Leadership (inspire, direct, organize)
- Execution (deliver, build, complete)
- Knowledge (teach, research, innovate)
- Social (connect, support, celebrate)

---

## ğŸ’¬ Loop 4: MESSAGES (XMTP Chat)

```
START: /messages
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  IDENTITY CHECK                     â”‚
â”‚  â€¢ useIdentity() â†’ resolveScendID   â”‚
â”‚  â€¢ Magic wallet â†’ EVM address       â”‚
â”‚  â€¢ XMTP enabled check               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
    â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
    â”‚           â”‚
    â–¼           â–¼
[No Identity] [XMTP Ready]
    â”‚           â”‚
    â–¼           â–¼
Login Prompt  Load Conversations
              from xmtpClient
              â”‚
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CONVERSATION LIST                  â”‚
â”‚  â€¢ All active conversations         â”‚
â”‚  â€¢ Bonded contacts only             â”‚
â”‚  â€¢ Last message preview             â”‚
â”‚  â€¢ Unread indicators                â”‚
â”‚  â€¢ Click â†’ Open chat                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CHAT VIEW (1:1 Conversation)       â”‚
â”‚  â€¢ Send/receive messages            â”‚
â”‚  â€¢ End-to-end encrypted (XMTP)      â”‚
â”‚  â€¢ Tied to Hedera identity          â”‚
â”‚  â€¢ Real-time sync                   â”‚
â”‚  â€¢ Message history                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Key Actions:**
- Start Conversation: Message any bonded contact
- Send Message: Encrypted via XMTP protocol
- Receive Message: Real-time notification
- View History: All past conversations

**Technical Stack:**
- XMTP Protocol (EVM-based messaging)
- Magic Wallet (provides EVM private key)
- ScendIdentity (identity layer)
- Encrypted end-to-end by default

---

## âš¡ Loop 5: BOOST (Viral Mechanics)

```
START: /boost
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  BOOST FEED PAGE                    â”‚
â”‚  Current State: EMPTY STATE         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STATS DASHBOARD (Placeholder)      â”‚
â”‚  â€¢ Boosts Given: 0                  â”‚
â”‚  â€¢ Boosts Received: 0               â”‚
â”‚  â€¢ Viral Signals: 0                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  EMPTY STATE EDUCATION              â”‚
â”‚  "Start Boosting Signals"           â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ ğŸ“ How Boosts Work:     â”‚       â”‚
â”‚  â”‚ 1. Give Boosts          â”‚       â”‚
â”‚  â”‚    Amplify signals      â”‚       â”‚
â”‚  â”‚                         â”‚       â”‚
â”‚  â”‚ 2. Go Viral             â”‚       â”‚
â”‚  â”‚    Gain rarity          â”‚       â”‚
â”‚  â”‚                         â”‚       â”‚
â”‚  â”‚ 3. Share Links          â”‚       â”‚
â”‚  â”‚    Social media         â”‚       â”‚
â”‚  â”‚                         â”‚       â”‚
â”‚  â”‚ 4. Track Impact         â”‚       â”‚
â”‚  â”‚    Network spread       â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CTAs                               â”‚
â”‚  â€¢ Send Your First Signal           â”‚
â”‚  â€¢ Browse Recognition Cards         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

FUTURE IMPLEMENTATION:
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  USER SIGNALS LIST                  â”‚
â”‚  â€¢ Recognition signals sent/receivedâ”‚
â”‚  â€¢ Boost count per signal           â”‚
â”‚  â€¢ Viral status indicator           â”‚
â”‚  â€¢ Shareable boost links            â”‚
â”‚  â€¢ Rarity progression               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  BOOST MECHANICS                    â”‚
â”‚  â€¢ Boost signal â†’ Increase rarity   â”‚
â”‚  â€¢ Generate boost link              â”‚
â”‚  â€¢ Track boost count                â”‚
â”‚  â€¢ Rarity progression:              â”‚
â”‚    Common (0-9) â†’ Rare (10-49)      â”‚
â”‚    â†’ Epic (50-99) â†’ Legendary (100+)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Key Actions (Future):**
- Boost Signal: Amplify recognition to network
- Generate Link: Create shareable boost URL
- Track Virality: Monitor boost count
- View Analytics: Network spread metrics

**Rarity System:**
- Common: 0-9 boosts
- Rare: 10-49 boosts
- Epic: 50-99 boosts
- Legendary: 100+ boosts

**Integration Points:**
- `/boost/[boostId]` - Viral landing page (already exists)
- Boost count tracked as signal metadata
- Shareable links for social media

---

## ğŸ’ Loop 6: COLLECTIONS (GHHA Membership NFTs)

```
START: /collections
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CHECK TOKEN CONFIGURATION          â”‚
â”‚  hasConfiguredTokens()?             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚             â”‚
    [No Tokens]    [Tokens Configured]
          â”‚             â”‚
          â–¼             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ COMING   â”‚  â”‚ LOAD USER      â”‚
    â”‚ SOON     â”‚  â”‚ MEMBERSHIPS    â”‚
    â”‚ STATE    â”‚  â”‚ from Mirror    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                 â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
                 â”‚           â”‚
           [No NFTs]    [Has NFTs]
                 â”‚           â”‚
                 â–¼           â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚ EMPTY    â”‚  â”‚ GALLERY    â”‚
          â”‚ STATE    â”‚  â”‚ VIEW       â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  BENEFITS SUMMARY   â”‚
                    â”‚  â€¢ Events Unlocked  â”‚
                    â”‚  â€¢ Voting Power     â”‚
                    â”‚  â€¢ Max Discounts    â”‚
                    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  NFT CARD GRID      â”‚
                    â”‚  3 columns layout   â”‚
                    â”‚  â€¢ Tier badge       â”‚
                    â”‚  â€¢ Serial number    â”‚
                    â”‚  â€¢ Event count      â”‚
                    â”‚  â€¢ Voting power     â”‚
                    â”‚  Click â†’ Detail     â”‚
                    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
              /collections/[tokenId]/[serial]
                         â”‚
                         â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚  NFT DETAIL PAGE         â”‚
              â”‚                          â”‚
              â”‚  LEFT COLUMN:            â”‚
              â”‚  â€¢ Large tier display    â”‚
              â”‚  â€¢ Status badge          â”‚
              â”‚                          â”‚
              â”‚  RIGHT COLUMN:           â”‚
              â”‚  â€¢ Token metadata        â”‚
              â”‚  â€¢ Benefits stats        â”‚
              â”‚  â€¢ HashScan link         â”‚
              â”‚                          â”‚
              â”‚  BENEFITS GRID (2x2):    â”‚
              â”‚  â€¢ Event Access          â”‚
              â”‚  â€¢ Governance/Channels   â”‚
              â”‚  â€¢ Member Discounts      â”‚
              â”‚  â€¢ Priority Access       â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**GHHA Membership Tiers:**

| Tier | Emoji | Governance | Voting Power | Event Access | Discounts |
|------|-------|------------|--------------|--------------|-----------|
| Bronze | ğŸ¥‰ | No | 0 | General Admission | 10% / 5% |
| Silver | ğŸ¥ˆ | Yes | 1 | +Workshops, Mixers | 20% / 15% |
| Gold | ğŸ¥‡ | Yes | 3 | +VIP, Meet & Greets | 30% / 25% |
| Platinum | ğŸ’ | Yes | 10 | +Executive, Private | 50% / 40% |

**Key Actions:**
- View Collections: Browse owned membership NFTs
- Check Benefits: See unlocked access and discounts
- View Details: Full NFT metadata and benefits
- HashScan Link: Verify on-chain ownership
- Token-Gating: Features locked by tier

**Data Flow:**
```
User Account ID
    â†“
Mirror Node API Query
/api/v1/accounts/{accountId}/nfts
    â†“
Filter by GHHA Token IDs
    â†“
Parse NFT Metadata (base64)
    â†“
Match to Tier Configuration
    â†“
Calculate Benefits
    â†“
Display Gallery
```

**Token-Gating Examples:**
```typescript
// Check tier access
checkMembershipTier(memberships, 'gold')
// Result: { hasAccess: true/false, userTier, reason }

// Check event access
checkEventAccess(memberships, 'VIP Receptions')

// Check governance
checkGovernanceAccess(memberships)

// Calculate voting power
calculateVotingPower(memberships)
```

---

## ğŸ” Authentication & Identity Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  MAGIC.LINK AUTHENTICATION          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  USER SIGNS IN                      â”‚
â”‚  â€¢ Email magic link                 â”‚
â”‚  â€¢ Social login (Google, etc)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  MAGIC GENERATES                    â”‚
â”‚  â€¢ EVM private key (encrypted)      â”‚
â”‚  â€¢ DID token (auth token)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  HEDERA ACCOUNT CREATION            â”‚
â”‚  â€¢ Account ID: 0.0.xxxxx            â”‚
â”‚  â€¢ Public key from EVM key          â”‚
â”‚  â€¢ Associated with Magic wallet     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PROFILE CREATION                   â”‚
â”‚  â€¢ POST /api/hcs/profile            â”‚
â”‚  â€¢ Event: PROFILE_CREATE            â”‚
â”‚  â€¢ Published to HCS                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SESSION ESTABLISHED                â”‚
â”‚  â€¢ localStorage: tm:users           â”‚
â”‚  â€¢ Contains: accountId, publicKey   â”‚
â”‚  â€¢ Magic DID token for API calls    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Identity Layers:**
1. **Magic Wallet**: Email-based web3 wallet
2. **Hedera Account**: 0.0.x format account ID
3. **ScendIdentity**: Unified identity layer
4. **XMTP**: EVM address for messaging

---

## ğŸ“Š Data Architecture

### SignalsStore (Client-Side Cache)
```
localStorage: 'tm:signals'
    â”‚
    â–¼
{
  events: [
    {
      id: "unique-id",
      type: "CONTACT_ACCEPT" | "TRUST_ALLOCATE" | "SIGNAL_MINT",
      from: "0.0.12345",
      to: "0.0.67890",
      data: {...},
      timestamp: 1234567890,
      _hrl: "hedera://...",
      _ts: "2025-12-11..."
    }
  ],
  watermark: "last-ingestion-timestamp"
}
```

**Operations:**
- `getAll()` - All cached events
- `getBondedContacts(sessionId)` - Only CONTACT_ACCEPT events
- `add(event)` - Optimistic add with broadcast
- `subscribe(callback)` - Real-time updates

### HCS Topics
```
CONTACTS:     0.0.7148063  (bonding events)
TRUST:        0.0.7148064  (trust allocation)
PROFILE:      0.0.7148066  (user profiles)
RECOGNITION:  0.0.7148065  (signals/recognition)
```

### Mirror Node Integration
```
Base: https://testnet.mirrornode.hedera.com/api/v1

Endpoints Used:
- /topics/{topicId}/messages       (HCS events)
- /accounts/{accountId}/nfts       (NFT holdings)
- /tokens/{tokenId}                (Token info)
- /tokens/{tokenId}/nfts/{serial}  (NFT details)
```

---

## ğŸ¨ Navigation Structure

### Bottom Navigation (5 Tabs)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Friends â”‚ Circle  â”‚ Signals â”‚ Messages â”‚ Boost  â”‚
â”‚  (ğŸ‘¥)   â”‚  (ğŸ”¥)   â”‚  (âš¡)   â”‚   (ğŸ’¬)   â”‚  (âš¡)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Header Menu (Dropdown)
- Profile (`/me`)
- Settings (`/settings`)
- Collections (`/collections`)
- Recognition Cards (`/recognition-cards`)
- QR Scanner (`/qr`)

### Routes
```
/                    Landing page
/onboard             Onboarding flow
/contacts            Friends tab
/circle              Circle of trust
/signals             Recognition feed
/messages            XMTP chat
/boost               Boost feed
/collections         GHHA NFT memberships
/recognition-cards   Recognition signal cards
/me                  User profile
/settings            App settings
```

---

## ğŸ”„ Real-Time Update Flow

```
User Action (e.g., Send Signal)
    â†“
POST /api/hcs/profile
    â†“
Submit to Hedera (background)
    â†“
Optimistic Update: signalsStore.add()
    â†“
signalsStore.broadcast()
    â†“
All subscribed components re-render
    â†“
Mirror Node Ingestion (async)
    â†“
useHcsEvents() hook fetches new data
    â†“
signalsStore.add() with HCS confirmation
    â†“
Final state synchronized
```

**Key Pattern:**
1. Optimistic UI update (instant feedback)
2. Background HCS submission (async)
3. Confirmation via Mirror Node polling
4. Final state reconciliation

---

## ğŸ¯ Critical User Paths

### 1. First-Time User Journey
```
Landing â†’ Login â†’ Onboarding â†’ Accept Stipend â†’ Create Profile
â†’ Add First Contact (QR) â†’ Allocate Trust â†’ Send First Signal
â†’ View Feed â†’ Explore Collections
```

### 2. Daily Active User
```
Open App â†’ Check Signals Feed â†’ Respond to Recognition
â†’ Send Signal to Friend â†’ Check Messages â†’ View Circle
â†’ Boost Favorite Signal â†’ Explore Collections
```

### 3. GHHA Member Journey
```
Login â†’ View Collections â†’ Check Tier Benefits
â†’ Use Event Access â†’ Vote on Proposal â†’ Apply Discount
â†’ Access Exclusive Channel â†’ Boost Signal
```

---

## ğŸš€ Future Enhancements

### Sprint 2: Vertical Integration
- **Engagement**: Recognition signals â†’ Mintable NFTs
- **Boost Mechanics**: Full viral amplification system
- **Governance**: Weighted voting interface

### Sprint 3: Advanced Features
- **Token-Gated Channels**: XMTP with tier filtering
- **Event Management**: GHHA event ticketing
- **Analytics Dashboard**: Personal and community metrics

### Sprint 4: Cultural Verticals
- **African Context**: Localized recognition types
- **GenZ Slang**: Custom signal language
- **Community Themes**: Vertical-specific UI modes

---

## ğŸ“š Technical Stack Summary

**Frontend:**
- Next.js 15 (App Router)
- React 18
- TypeScript
- Tailwind CSS
- Radix UI

**Blockchain:**
- Hedera Consensus Service (HCS)
- Hedera Token Service (HTS)
- Mirror Node API

**Authentication:**
- Magic.link (wallet auth)
- ScendIdentity (unified layer)

**Messaging:**
- XMTP Protocol (encrypted)

**State Management:**
- SignalsStore (custom)
- LocalStorage persistence
- React hooks

---

**Document Version:** 1.0  
**Last Updated:** December 11, 2025  
**Status:** Production Ready (Sprint 1 Complete)
